<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>eProduct Dashboard</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- Ionicons for Icons -->
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.js"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

    <div class="dashboard-container">
        <!-- Sidebar -->
        <nav class="sidebar">
            <div class="logo">
                <ion-icon name="book"></ion-icon>
                <span>BiblioTech</span>
            </div>
            <ul class="nav-links">
                <li class="nav-item active" id="stats">
                    <ion-icon name="pie-chart-outline"></ion-icon> Statistiques
                </li>
                <li class="nav-item" id="categories">
                    <ion-icon name="grid-outline"></ion-icon> Catégories
                </li>
                <li class="nav-item" id="auteurs">
                    <ion-icon name="people-outline"></ion-icon> Auteurs
                </li>
                <li class="nav-item" id="adherents">
                    <ion-icon name="id-card-outline"></ion-icon> Adhérents
                </li>
                <li class="nav-item" id="livres">
                    <ion-icon name="library-outline"></ion-icon> Livres
                </li>
                <li class="nav-item" id="emprunts">
                    <ion-icon name="bookmarks-outline"></ion-icon> Emprunts
                </li>
            </ul>
        </nav>

        <!-- Main Content -->
        <main class="main-content">
            <header class="header">
                <div class="toggle">
                    <ion-icon name="menu-outline"></ion-icon>
                </div>
                <h2 id="page-title">Statistiques de la Bibliothèque</h2>
                <div class="user-profile">
                    <span>Admin User</span>
                    <div class="user-img"></div>
                    <ion-icon name="log-out-outline" id="logoutBtn" title="Déconnexion"
                        style="font-size: 1.8rem; cursor: pointer; margin-left: 10px; color: var(--text-color); transition: color 0.3s;"></ion-icon>
                </div>
            </header>

            <!-- CATEGORIES SECTION -->
            <div id="categoriess" class="section-pane">
                <div class="card">
                    <div class="form-inline">
                        <input type="hidden" id="categorieId">
                        <div class="form-group">
                            <label>Nom de la Catégorie</label>
                            <input type="text" id="categorieNom" placeholder="Ex: Roman, Histoire...">
                        </div>
                        <div class="form-group" style="flex-direction: row; gap: 10px;">
                            <button class="add-btn" onclick="addCategorie()"><ion-icon
                                    name="add-circle-outline"></ion-icon> Ajouter</button>
                            <button class="update-btn" onclick="updateCategorie()"><ion-icon
                                    name="create-outline"></ion-icon> Modifier</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nom</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="categorieTable"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- AUTEURS SECTION -->
            <div id="auteurss" class="section-pane">
                <div class="card">
                    <div class="form-inline">
                        <input type="hidden" id="auteurId">
                        <div class="form-group">
                            <label>Nom de l'Auteur</label>
                            <input type="text" id="auteurNom" placeholder="Nom Complet">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="auteurEmail" placeholder="email@exemple.com">
                        </div>
                        <div class="form-group" style="flex-direction: row; gap: 10px;">
                            <button class="add-btn" onclick="addAuteur()"><ion-icon
                                    name="add-circle-outline"></ion-icon> Ajouter</button>
                            <button class="update-btn" onclick="updateAuteur()"><ion-icon
                                    name="create-outline"></ion-icon> Modifier</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nom</th>
                                    <th>Email</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="auteurTable"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- ADHERENTS SECTION -->
            <div id="adherentss" class="section-pane">
                <div class="card">
                    <div class="form-inline">
                        <input type="hidden" id="adherentId">
                        <div class="form-group">
                            <label>Nom</label>
                            <input type="text" id="adherentNom">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email" id="adherentEmail">
                        </div>
                        <div class="form-group">
                            <label>Téléphone</label>
                            <input type="text" id="adherentTele">
                        </div>
                        <div class="form-group" style="flex-direction: row; gap: 10px;">
                            <button class="add-btn" onclick="addAdherent()"><ion-icon
                                    name="add-circle-outline"></ion-icon> Ajouter</button>
                            <button class="update-btn" onclick="updateAdherent()"><ion-icon
                                    name="create-outline"></ion-icon> Modifier</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Nom</th>
                                    <th>Email</th>
                                    <th>Téléphone</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="adherentTable"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- LIVRES SECTION -->
            <div id="livress" class="section-pane">
                <div class="card">
                    <div class="form-inline">
                        <input type="hidden" id="livreId">
                        <div class="form-group">
                            <label>Titre</label>
                            <input type="text" id="livreTitre">
                        </div>
                        <div class="form-group">
                            <label>Auteur</label>
                            <select id="livreAuteurId"></select>
                        </div>
                        <div class="form-group">
                            <label>Catégorie</label>
                            <select id="livreCategorieId"></select>
                        </div>
                        <div class="form-group" style="flex-direction: row; gap: 10px;">
                            <button class="add-btn" onclick="addLivre()"><ion-icon name="add-circle-outline"></ion-icon>
                                Ajouter</button>
                            <button class="update-btn" onclick="updateLivre()"><ion-icon
                                    name="create-outline"></ion-icon> Modifier</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Titre</th>
                                    <th>Auteur</th>
                                    <th>Catégorie</th>
                                    <th>Etat</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="livreTable"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- EMPRUNTS SECTION -->
            <div id="empruntss" class="section-pane">
                <div class="card">
                    <div class="form-inline">
                        <input type="hidden" id="empruntId">
                        <div class="form-group">
                            <label>Livre</label>
                            <select id="empruntLivreId"></select>
                        </div>
                        <div class="form-group">
                            <label>Adhérent</label>
                            <select id="empruntAdherentId"></select>
                        </div>
                        <div class="form-group">
                            <label>Date Emprunt</label>
                            <input type="date" id="empruntDate">
                        </div>
                        <div class="form-group" style="flex-direction: row; gap: 10px;">
                            <button class="add-btn" onclick="addEmprunt()"><ion-icon
                                    name="add-circle-outline"></ion-icon> Ajouter</button>
                            <button class="update-btn" onclick="updateEmprunt()"><ion-icon
                                    name="create-outline"></ion-icon> Modifier</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table>
                            <thead>
                                <tr>
                                    <th>ID</th>
                                    <th>Livre</th>
                                    <th>Adhérent</th>
                                    <th>Date</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="empruntTable"></tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- STATS SECTION -->
            <div id="statss" class="section-pane active">
                <div class="chart-grid">
                    <div class="card chart-card">
                        <h3>Livres par Catégorie</h3>
                        <canvas id="booksPerCategoryChart"></canvas>
                    </div>
                    <div class="card chart-card">
                        <h3>Livres par Auteur</h3>
                        <canvas id="booksPerAuthorChart"></canvas>
                    </div>
                    <div class="card chart-card">
                        <h3>Top Adhérents</h3>
                        <canvas id="loansPerAdherentChart"></canvas>
                    </div>
                    <div class="card chart-card">
                        <h3>Disponibilité</h3>
                        <canvas id="bookStatusChart"></canvas>
                    </div>
                    <div class="card chart-card wide">
                        <h3>Emprunts dans le temps</h3>
                        <canvas id="loansOverTimeChart"></canvas>
                    </div>
                </div>
            </div>

        </main>
    </div>

    <div class="overlay"></div> <!-- Sidebar Overlay -->

    <!-- Internal Script for Tab Switching Logic ONLY -->


    <!-- <script>
        let auteur=document.getElementById('auteur');
        let auteurss=document.getElementById('auteurss');
        let categories=document.getElementById('categories');
        
        auteur.addEventListener('click',()=>{
            
        })
    </script> -->

    </script>
    <!-- Original Logic -->
    <script src="js/res.js"></script>
    <script src="js/script.js"></script>
    <script src="js/charts.js"></script>

</body>

</html>